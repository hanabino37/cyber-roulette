Webルーレットアプリ 要件定義書 (Final)
1. プロジェクト概要
スマホブラウザ向けのルーレットWebアプリ。
物理的なルーレットの挙動（回転、慣性、停止）を、円形に配置された12個のLEDランプの点灯移動で表現する。
2. デザイン仕様 (Visual Design)
2.1 全体構成
テーマ: Sophisticated Cyberpunk（洗練されたサイバーパンク）
背景: ダークグレー (#1A1A1A)
レイアウト: スマホ縦画面の上部2/3をルーレット表示、下部1/3を操作・結果表示エリアとする。
2.2 ルーレット盤面の構造（ここが最重要）
「数字なし・扇形発光なし・外周ランプのみ」 のデザインを採用する。
ランプ配置:
正円の軌道上に、**12個の「丸いランプ（円形div）」**を等間隔（時計の1時〜12時の位置）に配置する。
数字: 表示しない。
中央エリア: ランプの内側の扇形エリアは光らせない（暗い背景のまま、あるいはうっすらと境界線がある程度）。あくまで主役は「外周の12個のランプ」。
発光表現:
OFF時: 暗いグレー、透明度低め。
ON時: 鮮やかなネオンカラーで点灯し、周囲にグロー（box-shadow）を発する。
2.3 カラーパレット (Neon Pastel)
視認性の高い以下の6色を使用する。
A: #FF6B6B (赤系)
B: #4D96FF (青系)
C: #F9D923 (黄系)
D: #6BCB77 (緑系)
E: #D4A373 (銅系)
F: #9D4EDD (紫系)
3. 機能要件
3.1 択数設定とランプの色割り当て
画面上部の設定（2/3/4/6択）に応じて、12個のランプに動的に色を割り当てる。
2択: ランプを交互に色分け (赤, 青, 赤, 青...)
3択: 3色ローテーション (赤, 青, 黄, 赤, 青, 黄...)
4択: 4色ローテーション
6択: 6色ローテーション
※5択は非対応。
3.2 抽選ロジック（パターン演出）
START押下: 結果（1〜12のどのランプで止まるか）をランダムに決定。
パターン選択: 32種類の演出パターン（JSONデータ）から1つ選択。
位置補正: 選択した演出パターンの動きが、必ず「決定した当たりランプ」で終了するように、開始時点の回転数を自動計算して調整する。
アニメーション: 時計回りにランプの点灯位置(activeクラス)を移動させる。
3.3 結果表示
ルーレット停止後、画面下部のディスプレイエリアに「当選した色の名前（または入力されたテキスト）」を表示する。
背景色を当選色に変更し、視覚的に分かりやすくする。
4. 実装指示（AIへの具体的命令）
ファイル構成
既存の index.html, style.css, script.js を使用する。
HTML/CSS実装のポイント
ランプの配置:
CSSの transform: rotate や skew で扇形を作るアプローチは禁止。
JavaScriptの三角関数 (Math.cos, Math.sin)、または CSSの transform: rotate(...) translate(...) を使用して、**12個の「正円のdiv」**をリング状に配置すること。
入力フォーム:
設定エリア（択数変更）は常にアクセスしやすくする。
択数を変更したら、即座に入力欄の数と、ランプの配色プレビューを更新すること。
JavaScript実装のポイント
演出データ（JSON）が見つからない場合は、コード内に定義したデフォルトパターン（Fallback）を使用すること。
アニメーションは async/await を使用し、非同期でスムーズに制御すること。

